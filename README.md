# Название проекта:YaMDb

## Авторы проекта
- Александр Батогов
- Владислав Ляско
- Сергей Мухаметжанов

# Описание проекта YaMDb
Проект YaMDb собирает отзывы пользователей на произведения. Произведения деляться на следующие категории: "Книги", "Фильмы", "Музыка". 
Пользователи могут оставлять рецензии на произведения и ставить оценки.
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

## Техно-стек
- **Python** 3.10+
- **Django** 4.x
- **Django REST Framework** 3.x
- **PostgreSQL** 13+

## Алгоритм регистрации пользователей
- Пользователь отправляет POST-запрос на добавление нового пользователя с параметрами email и username на эндпоинт /api/v1/auth/signup/.
- YaMDB отправляет код подтверждения (confirmation_code) на указанный email.
- Пользователь отправляет POST-запрос с username и confirmation_code на эндпоинт /api/v1/auth/token/ для получения токена (JWT token).
- При желании пользователь может отправить PATCH-запрос на эндпоинт /api/v1/users/me/, чтобы обновить данные профиля (подробности в документации).

## Роли пользователей
Аноним — может просматривать описания произведений, читать отзывы и комментарии.
Аутентифицированный пользователь (user) — может оставлять отзывы, комментарии и оценивать произведения.
Модератор (moderator) — имеет все права пользователя и может модерировать отзывы и комментарии.
Администратор (admin) — имеет полный доступ к управлению всеми ресурсами проекта.
Суперпользователь — эквивалентен admin, но создается через административный интерфейс Django.

## Базовый URL API
Все запросы к API начинаются с `/api/v1/`.

## Эндпоинты API
### Аутентификация
- **POST** `/auth/signup/` — Регистрация нового пользователя.
- **POST** `/auth/token/` — Получение токена (JWT) с использованием имени пользователя и кода подтверждения.

### Пользователи
- **GET** `/users/` — Список всех пользователей (доступно администратору).
- **POST** `/users/` — Создание нового пользователя (доступно администратору).
- **GET** `/users/me/` — Получение информации о своём профиле.
- **PATCH** `/users/me/` — Обновление данных своего профиля.

### Произведения и отзывы
- **GET** `/titles/` — Список всех произведений.
- **GET** `/titles/{id}/` — Получение информации о конкретном произведении по ID.
- **GET** `/titles/{title_id}/reviews/` — Список всех отзывов на произведение.
- **POST** `/titles/{title_id}/reviews/` — Создание нового отзыва на произведение.
- **PATCH** `/titles/{title_id}/reviews/{review_id}/` — Обновление отзыва.
- **DELETE** `/titles/{title_id}/reviews/{review_id}/` — Удаление отзыва.

### Развертывание проекта на локальном сервере
1. Клонируете репозиторий:
   ```bash
   git clone https://@github.com/Predatorevil666/api_yamdb.git
   cd api_yamdb
   ```
2. Создаете и активируете виртуальное окружение:
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

   - Если версия python > 3.10, то возможно потребуется сделать следующее до выполнения миграций:
   ```bash
   pip install --upgrade setuptools
   ```

4. Выполните миграции:
   ```bash
   python manage.py migrate
   ```

5. Запускаете сервер:
   ```bash
   python manage.py runserver
   ```

6. Access the application at:
   ```bash
   http://127.0.0.1:8000/
   ```
7. Информация о том, где найти спецификацию при локальном запуске проекта:
   - Когда вы запустите проект, по адресу  http://127.0.0.1:8000/redoc/ будет доступна документация.
   В документации описано, как должен работать ваш API. Документация представлена в формате Redoc.

## Общие команды
1. Запуск тестов:
   ```bash
   pytest
   ```

2. Создание файла миграции:
   ```bash
   python manage.py makemigrations
   ```

3. Создание суперюзера:
   ```bash
   python manage.py createsuperuser
   ```
